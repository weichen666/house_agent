<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.house.dao.UserDao" >
   <select id="getUser" parameterType="HashMap" resultType="com.house.bean.UserBean">
   		select 
   			u.account account,
   			u.password password
   		from user 
   		where 1 = 1
   		<if test="account !=null and account !=''">
   			and account = #{account}
   		</if>  
   		<if test="password !=null and password !=''">
   			and password #{password}
   		</if>
		   		
   </select>
   
   <select id="login" parameterType="HashMap" resultType="Integer">
   		select 
   			count(1)
   		from user u 
   		where u.account = #{account} and u.password=#{password} 
   </select>
   
   <insert id="save" parameterType="HashMap">
   		insert user (account, password, email)
   		values 
   		(#{account}, #{password}, #{email})
   </insert>
   
</mapper>
